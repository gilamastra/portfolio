<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8" />
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0" />
   <title>Giovani Lamastra</title>
   <link rel="stylesheet" href="style.css" />
   <link rel="stylesheet" href="mediaqueries.css" />
</head>

<body>
   <div id="loading-spinner"></div>
   <div id="content" style="opacity: 0;">

      <nav id="desktop-nav">
         <div class="logo">Giovani Lamastra</div>
         <div>
            <ul class="nav-links">
               <li><a class="navAboutText" id="navAboutText" href="#about" onclick="toggleMenu()"></a></li>
               <li><a class="navExperienceText" href="#experience" onclick="toggleMenu()"></a></li>
               <li><a class="navProjectsText" href="#projects" onclick="toggleMenu()"></a></li>
               <li><a class="navContactText" href="#contact" onclick="toggleMenu()"></a></li>
            </ul>
         </div>
         <div class="styled-select">
            <select name="languages" id="languages" onchange="updateLanguage()">
            </select>
         </div>


      </nav>
      <nav id="hamburger-nav">
         <div class="logo">Giovani Lamastra</div>
         <div class="hamburger-menu">
            <div class="hamburger-icon" onclick="toggleMenu()">
               <span></span>
               <span></span>
               <span></span>
            </div>
            <div class="menu-links">
               <li><a class="navAboutText" href="#about" onclick="toggleMenu()"></a></li>
               <li><a class="navExperienceText" href="#experience" onclick="toggleMenu()"></a></li>
               <li><a class="navProjectsText" href="#projects" onclick="toggleMenu()"></a></li>
               <li><a class="navContactText" href="#contact" onclick="toggleMenu()"></a></li>
            </div>
         </div>
      </nav>
      <section id="profile">



         <div class="section__text">
            <p id="introductionText" class="section__text__p1">Hello, I'm</p>
            <h1 class="title">Giovani Lamastra</h1>
            <p id="developer-role" class="section__text__p2">Frontend Developer</p>
            <div class="btn-container">
               <button class="btn btn-color-2" onclick="window.open('./assets/resume-example.pdf')">
                  Download CV
               </button>
               <button class="btn btn-color-1" onclick="location.href='#contact'">
                  Contact Info
               </button>
            </div>
            <div id="socials-container">
               <img src="./assets/linkedin.png" alt="My LinkedIn profile" class="icon"
                  onclick="window.open('https://www.linkedin.com/in/giovanilamastra/','_blank')" />
               <img src="./assets/github.png" alt="My Github profile" class="icon"
                  onclick="window.open('https://github.com/gilamastra/','_blank')" />
            </div>
         </div>

      </section>
      <section class="section" id="about">
         <p class="section__text__p1">Get To Know More</p>
         <h1 class="title">About Me</h1>
         <div class="section-container">

            <div class="about-details-container">
               <div class="about-containers">
                  <div class="details-container">
                     <img src="./assets/experience.png" alt="Experience icon" class="icon" />
                     <h3>Experience</h3>
                     <p>2+ years <br />Frontend Development</p>
                  </div>
                  <div class="details-container">
                     <img src="./assets/education.png" alt="Education icon" class="icon" />
                     <h3>Education</h3>
                     <p>B.Sc. Bachelors Degree<br />M.Sc. Masters Degree</p>
                  </div>
               </div>
               <div class="text-container">
                  <p>
                     Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic quis
                     reprehenderit et laborum, rem, dolore eum quod voluptate
                     exercitationem nobis, nihil esse debitis maxime facere minus sint
                     delectus velit in eos quo officiis explicabo deleniti dignissimos.
                     Eligendi illum libero dolorum cum laboriosam corrupti quidem,
                     reiciendis ea magnam? Nulla, impedit fuga!
                  </p>
               </div>
            </div>
         </div>
      </section>
      <section class="section" id="experience">
         <p class="section__text__p1">Explore My</p>
         <h1 class="title">Experience</h1>
         <div style="height: unset;" class="experience-details-container">
            <div class="about-containers">
               <div class="skills-container">
                  <h2 class="experience-sub-title">Frontend Development</h2>
                  <div class="article-container">
                     <div class="skills-section">
                        <div class="skill-card">
                           <img src="./assets/html5.png" alt="Skill Image" class="skill-card-image">
                           <h3 class="skill-card-title">Html</h3>
                        </div>
                        <div class="skill-card">
                           <img src="./assets/html5.png" alt="Skill Image" class="skill-card-image">
                           <h3 class="skill-card-title">Css</h3>
                        </div>
                        <div class="skill-card">
                           <img src="./assets/html5.png" alt="Skill Image" class="skill-card-image">
                           <h3 class="skill-card-title">React</h3>
                        </div>
                        <div class="skill-card">
                           <img src="./assets/html5.png" alt="Skill Image" class="skill-card-image">
                           <h3 class="skill-card-title">JavaScript</h3>
                        </div>
                        <div class="skill-card">
                           <img src="./assets/html5.png" alt="Skill Image" class="skill-card-image">
                           <h3 class="skill-card-title">TypeScript</h3>
                        </div>
                        <div class="skill-card">
                           <img src="./assets/html5.png" alt="Skill Image" class="skill-card-image">
                           <h3 class="skill-card-title">Jest</h3>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="skills-container">
                  <h2 class="experience-sub-title">Backend Development</h2>
                  <div class="article-container">
                     <div class="skills-section">
                        <div class="skill-card">
                           <img src="./assets/html5.png" alt="Skill Image" class="skill-card-image">
                           <h3 class="skill-card-title">Html</h3>
                        </div>
                        <div class="skill-card">
                           <img src="./assets/html5.png" alt="Skill Image" class="skill-card-image">
                           <h3 class="skill-card-title">Html</h3>
                        </div>
                        <div class="skill-card">
                           <img src="./assets/html5.png" alt="Skill Image" class="skill-card-image">
                           <h3 class="skill-card-title">Html</h3>
                        </div>
                        <div class="skill-card">
                           <img src="./assets/html5.png" alt="Skill Image" class="skill-card-image">
                           <h3 class="skill-card-title">Html</h3>
                        </div>
                     </div>
                  </div>

               </div>
               <div class="skills-container">
                  <h2 class="experience-sub-title">DevOps Development</h2>
                  <div class="article-container">
                     <div class="skills-section">
                        <div class="skill-card">
                           <img src="./assets/html5.png" alt="Skill Image" class="skill-card-image">
                           <h3 class="skill-card-title">Html</h3>
                        </div>
                        <div class="skill-card">
                           <img src="./assets/html5.png" alt="Skill Image" class="skill-card-image">
                           <h3 class="skill-card-title">Html</h3>
                        </div>
                        <div class="skill-card">
                           <img src="./assets/html5.png" alt="Skill Image" class="skill-card-image">
                           <h3 class="skill-card-title">Html</h3>
                        </div>
                        <div class="skill-card">
                           <img src="./assets/html5.png" alt="Skill Image" class="skill-card-image">
                           <h3 class="skill-card-title">Html</h3>
                        </div>
                     </div>
                  </div>

               </div>
               <div class="skills-container">
                  <h2 class="experience-sub-title">Others</h2>
                  <div class="article-container">
                     <div class="skills-section">
                        <div class="skill-card">
                           <img src="./assets/html5.png" alt="Skill Image" class="skill-card-image">
                           <h3 class="skill-card-title">Html</h3>
                        </div>
                        <div class="skill-card">
                           <img src="./assets/html5.png" alt="Skill Image" class="skill-card-image">
                           <h3 class="skill-card-title">Html</h3>
                        </div>
                        <div class="skill-card">
                           <img src="./assets/html5.png" alt="Skill Image" class="skill-card-image">
                           <h3 class="skill-card-title">Html</h3>
                        </div>
                        <div class="skill-card">
                           <img src="./assets/html5.png" alt="Skill Image" class="skill-card-image">
                           <h3 class="skill-card-title">Html</h3>
                        </div>
                     </div>
                  </div>

               </div>
            </div>
         </div>
   </div>
   </section>
   <section class="pop section" id="projects">
      <p class="section__text__p1">Browse My Recent</p>
      <h1 class="title">Projects</h1>
      <div class="experience-details-container">
         <div class="about-containers">
            <div class="details-container color-container">
               <div class="article-container">
                  <img src="./assets/project-1.png" alt="Project 1" class="project-img" />
               </div>
               <h2 class="experience-sub-title project-title">Project One</h2>
               <div class="btn-container">
                  <button class="btn btn-color-2 project-btn" onclick="location.href='https://github.com/'">
                     Github
                  </button>
                  <button class="btn btn-color-2 project-btn" onclick="location.href='https://github.com/'">
                     Live Demo
                  </button>
               </div>
            </div>
            <div class="details-container color-container">
               <div class="article-container">
                  <img src="./assets/project-2.png" alt="Project 2" class="project-img" />
               </div>
               <h2 class="experience-sub-title project-title">Project Two</h2>
               <div class="btn-container">
                  <button class="btn btn-color-2 project-btn" onclick="location.href='https://github.com/'">
                     Github
                  </button>
                  <button class="btn btn-color-2 project-btn" onclick="location.href='https://github.com/'">
                     Live Demo
                  </button>
               </div>
            </div>
            <div class="details-container color-container">
               <div class="article-container">
                  <img src="./assets/project-3.png" alt="Project 3" class="project-img" />
               </div>
               <h2 class="experience-sub-title project-title">Project Three</h2>
               <div class="btn-container">
                  <button class="btn btn-color-2 project-btn" onclick="location.href='https://github.com/'">
                     Github
                  </button>
                  <button class="btn btn-color-2 project-btn" onclick="location.href='https://github.com/'">
                     Live Demo
                  </button>
               </div>
            </div>
         </div>
      </div>
   </section>
   <section class="section" id="contact">
      <p class="section__text__p1">Get in Touch</p>
      <h1 class="title">Contact Me</h1>
      <div class="contact-info-upper-container">
         <div class="contact-info-container">
            <img src="./assets/email.png" alt="Email icon" class="icon contact-icon email-icon" />
            <p><a href="mailto:giovanilamastra@gmail.com">giovanilamastra@gmail.com</a></p>
         </div>
         <div class="contact-info-container">
            <img src="./assets/linkedin.png" alt="LinkedIn icon" class="icon contact-icon" />
            <p><a href="https://www.linkedin.com/in/giovanilamastra/" target="_blank">LinkedIn</a></p>
         </div>
      </div>
   </section>
   <footer>
      <nav>
         <div class="nav-links-container">
            <ul class="nav-links">
               <li><a class="navAboutText" href="#about">About</a></li>
               <li><a class="navExperienceText" href="#experience">Experience</a></li>
               <li><a class="navProjectsText" href="#projects">Projects</a></li>
               <li><a class="navContactText" href="#contact">Contact</a></li>
            </ul>
         </div>
      </nav>

      <p>Copyright &#169; Created By Giovani Lamastra.</p>
   </footer>
   </div>

   <script>

      // JavaScript to animate role change
      let typingInterval = null;
      let backspacingInterval = null;
      let currentIndex = 0;

      function updateRole(translations) {
         const roleElement = document.getElementById("developer-role");
         const targetRole = translations.HOME.ROLES[currentIndex];
         let index = 0;

         // Clear any existing intervals
         clearInterval(typingInterval);
         clearInterval(backspacingInterval);

         // Typing interval
         typingInterval = setInterval(() => {
            if (index <= targetRole.length) {
               roleElement.textContent = targetRole.substring(0, index);
               // Append blinking cursor if text is still being typed
               roleElement.innerHTML += (index === targetRole.length) ? '' : '<span class="cursor">|</span>';
            } else {
               // Start backspacing after typing is complete
               clearInterval(typingInterval);
               backspacingInterval = setInterval(() => {
                  if (roleElement.textContent.length > 0) {
                     roleElement.textContent = roleElement.textContent.slice(0, -1);
                  } else {
                     // Move to the next role and restart typing
                     clearInterval(backspacingInterval);
                     currentIndex = (currentIndex + 1) % translations.HOME.ROLES.length;
                     updateRole(translations);
                  }
               }, 75);
            }
            index++;
         }, 100);
      }


      function toggleMenu() {
         const menu = document.querySelector(".menu-links");
         const icon = document.querySelector(".hamburger-icon");
         menu.classList.toggle("open");
         icon.classList.toggle("open");
      }

      function translateTextElements(element, text) {


         element.classList.add('fade-out');
         setTimeout(() => {
            element.textContent = text

            element.classList.remove('fade-out');
            element.classList.add('fade-in');

            setTimeout(() => {
               element.classList.remove('fade-in');
            }, 100);
         }, 300);


      }



      var selectedLanguage = "en"; // Default language is English

      // Load translations for the selected language
      function loadTranslations(language) {
         return import(`./i18n/${language}.js`)
            .then(module => {
               return module.default; // Get the default export
            })
            .catch(error => console.error("Error loading translations:", error));
      }

      // Translate options in the language dropdown
      function translateOptions(translations, selectedLanguageValue) {
         console.log(selectedLanguageValue, 'selectedLanguageValue')
         var languagesSelect = document.getElementById("languages");
         languagesSelect.innerHTML = ""; // Clear existing options

         // Create options from translations
         for (var langCode in translations["languages"]) {
            var option = document.createElement("option");
            option.value = langCode;
            option.textContent = translations["languages"][langCode];
            languagesSelect.appendChild(option);
         }

         // Set the selected language
         languagesSelect.value = selectedLanguageValue;
      }

      function translateById(id, translation) {
         translateTextElements(document.getElementById(id), translation)

      }
      function translateByClassName(className, translation) {
         translateTextElements(document.getElementsByClassName(id), translation)

      }
      function translateHeader(translations) {
         console.log(translations)

         for (var i = 0, len = 3; i < len; i++) {
            translateTextElements(document.getElementsByClassName('navAboutText')[i], translations.HEADER.ABOUT)
            translateTextElements(document.getElementsByClassName('navExperienceText')[i], translations.HEADER.EXPERIENCES)
            translateTextElements(document.getElementsByClassName('navProjectsText')[i], translations.HEADER.PROJECTS)
            translateTextElements(document.getElementsByClassName('navContactText')[i], translations.HEADER.CONTACT)

         }

      }
      function translateHome(translations) {

         translateById('introductionText', translations.HOME.INTRODUCTION_TEXT)


      }

      // Function to update the text content with animation when the language changes
      function updateTextContentWithAnimation(newText) {
         const textContainer = document.getElementsByClassName('navContactText')[0];


         // Add a class to trigger the animation
         textContainer.classList.add('animate-text-out');

         // Wait for the animation to complete before updating the text content
         setTimeout(() => {
            // Update the text content with the new text
            document.getElementsByClassName('navContactText').textContent = newText;

            // Remove the class to trigger the animation in reverse
            textContainer.classList.remove('animate-text-out');

            // Add a class to trigger the animation for the new text
            textContainer.classList.add('animate-text-in');
         }, 500); // Adjust the delay based on the duration of the animation (500ms in this example)
      }

      // Example usage: call this function when the language changes
      updateTextContentWithAnimation("New Language Text");

      // Update language selection based on URL or default to English
      function updateLanguage() {
         var languagesSelect = document.getElementById("languages");
         console.log(languagesSelect.value, 'aaaaaaaa')
         var urlParams = new URLSearchParams(window.location.search);
         var langFromUrl = urlParams.get("lang");

         // Check if the language from the URL is valid (fr, en, or pt)
         var selectedLanguageValue;
         if (langFromUrl && ["fr", "en", "pt"].includes(langFromUrl) && !languagesSelect.value) {
            selectedLanguageValue = langFromUrl;
         } else {
            selectedLanguageValue = languagesSelect.value || "en"; // Default to English
         }

         // Set the selected language in the dropdown
         languagesSelect.value = selectedLanguageValue;

         // Load translations for the selected language
         loadTranslations(selectedLanguageValue)
            .then(translations => {
               translateOptions(translations, selectedLanguageValue); // Translate options in the language dropdown
               translateHeader(translations); // Translate home
               translateHome(translations); // Translate home
               updateRole(translations)
            })
            .catch(error => {
               console.error("Error updating language:", error);
            });

         // Update the URL with the selected language
         urlParams.set("lang", selectedLanguageValue);
         var newUrl = window.location.pathname + '?' + urlParams.toString();
         window.history.replaceState(null, '', newUrl);

         console.log("Selected Language: " + selectedLanguageValue);
      }





      // Function to check if any part of an element is in the viewport
      function isInViewport(element) {
         var rect = element.getBoundingClientRect();
         return (
            rect.bottom > 0 &&
            rect.top < window.innerHeight - 120
         );
      }


      // Function to handle scroll events
      function handleScroll() {
         var sections = document.querySelectorAll('.section');
         sections.forEach(function (section) {
            if (isInViewport(section)) {
               section.classList.add('visible');
            } else {
               section.classList.remove('visible');
            }
         });
      }

      // Add scroll event listener to trigger the handleScroll function
      window.addEventListener('scroll', function () {
         handleScroll();
      });

      // Call handleScroll once on page load to initialize section visibility
      handleScroll();



      // Load translations when the page loads
      window.onload = function () {
         updateLanguage(); // Update language based on URL
      };









      // function toggleAnimation(entries, observer) {
      //    entries.forEach(entry => {
      //       if (entry.isIntersecting) {
      //          entry.target.classList.add('pop');
      //       } else {
      //          entry.target.classList.remove('pop');
      //       }
      //    });
      // }

      // // Create a new Intersection Observer
      // const observer = new IntersectionObserver(toggleAnimation, { threshold: 0.5 });

      // // Observe each section
      // document.querySelectorAll('.pop').forEach(section => {
      //    observer.observe(section);
      // });


      // Function to hide loading spinner and reveal content with a transition
      function hideLoadingWithTransition() {
         document.getElementById('loading-spinner').style.opacity = '0'; // Hide loading spinner
         setTimeout(function () {
            document.getElementById('loading-spinner').style.display = 'none'; // Hide loading spinner after transition
            document.getElementById('content').style.opacity = '1'; // Show content with transition
         }, 550); // Adjust the transition delay as needed (in milliseconds)
      }

      // Call hideLoadingWithTransition() function when the page has fully loaded
      window.addEventListener('load', function () {
         hideLoadingWithTransition();
      });



   </script>


</body>

</html>